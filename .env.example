# ===========================================
# Minimoonoir - Private Community Relay
# Docker-based Architecture: Node.js + PostgreSQL
# ===========================================

# ===========================================
# NOSTR RELAY CONFIGURATION
# ===========================================
# Private relay URL - Internal Docker deployment (whitelist-only, no federation)
# Local development: ws://localhost:8008
# Production: Internal Docker network address
VITE_RELAY_URL=ws://localhost:8008

# NO FEDERATED RELAYS - This is a private, internal-only relay
# All communication is point-to-point within the application
# No connections to external Nostr relays

# ===========================================
# ADMIN CONFIGURATION
# ===========================================
# Admin public key in HEX format (64 characters, NOT npub)
# This key is used for admin access to the application
# To get hex pubkey from mnemonic: login, then check localStorage 'minimoonoir_keys'.publicKey
#
# SECURITY: This pubkey must also be added to the PostgreSQL whitelist:
#   psql -d nostr_relay -c "INSERT INTO access_control (pubkey, cohorts, access_level) VALUES ('your-hex-pubkey', '{admin}', 'admin')"
VITE_ADMIN_PUBKEY=0000000000000000000000000000000000000000000000000000000000000000

# Admin private key in nsec format (starts with nsec1...)
# ⚠️ SECURITY: Keep this secret! Never commit to version control!
ADMIN_PROVKEY=nsec1...

# Admin BIP-39 mnemonic (12 or 24 words)
# ⚠️ SECURITY: Backup securely! This is your recovery phrase!
# Used for key recovery if you lose your nsec
ADMIN_KEY="word1 word2 word3 ... word12"

# ===========================================
# APPLICATION CONFIGURATION
# ===========================================
VITE_APP_NAME=Minimoonoir
VITE_APP_VERSION=0.1.0

# Enable NDK debug logging (DO NOT enable in production)
VITE_NDK_DEBUG=false

# ===========================================
# GOOGLE CLOUD PLATFORM CONFIGURATION
# ===========================================
# ⚠️ SECURITY: Never commit real credentials!
# For CI/CD, use GitHub Secrets instead:
#   - GOOGLE_CLOUD_PROJECT
#   - GCP_SERVICE_ACCOUNT_KEY (JSON key file for GitHub Actions)

# GCP Project ID (use your own project)
GOOGLE_CLOUD_PROJECT=cumbriadreamlab

# ===========================================
# SEMANTIC SEARCH CONFIGURATION (GCP)
# ===========================================
# Embedding API Cloud Run URL (for client-side query embedding)
# Deploy from workers/embedding-api/ to Cloud Run
# URL pattern: https://embedding-api-{HASH}-uc.a.run.app
VITE_EMBEDDING_API_URL=https://embedding-api-617806532906.us-central1.run.app

# Google Cloud Storage URL for embeddings index (public read access)
# Bucket: minimoonoir-vectors
# Create bucket: gsutil mb -c STANDARD -l us-central1 gs://minimoonoir-vectors
# Enable public access: gsutil iam ch allUsers:objectViewer gs://minimoonoir-vectors
VITE_GCS_EMBEDDINGS_URL=https://storage.googleapis.com/minimoonoir-vectors
