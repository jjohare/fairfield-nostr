import{d as o,w as m,g as f,b as g}from"./BsPp2m_w.js";const r={isAuthenticated:!1,publicKey:null,privateKey:null,mnemonic:null,isPending:!1,isAdmin:!1,error:null},l=["npub1admin..."];function A(){const{subscribe:s,set:a,update:i}=m(r);{const e=localStorage.getItem("fairfield_keys");if(e)try{const t=JSON.parse(e);i(n=>({...n,...t,isAuthenticated:!0,isAdmin:l.includes(t.publicKey||"")}))}catch{localStorage.removeItem("fairfield_keys")}}return{subscribe:s,setKeys:(e,t,n)=>{const d={publicKey:e,privateKey:t,mnemonic:n||null,isAuthenticated:!0,isAdmin:l.includes(e),isPending:!1,error:null};localStorage.setItem("fairfield_keys",JSON.stringify({publicKey:e,privateKey:t,mnemonic:n||null})),i(u=>({...u,...d}))},setPending:e=>{i(t=>({...t,isPending:e}))},setError:e=>{i(t=>({...t,error:e}))},clearError:()=>{i(e=>({...e,error:null}))},logout:()=>{a(r),localStorage.removeItem("fairfield_keys"),f(`${g}/`)},reset:()=>a(r)}}const c=A(),h=o(c,s=>s.isAuthenticated),b=o(c,s=>s.isAdmin);export{c as a,b,h as i};
//# sourceMappingURL=VYSNxB5S.js.map
